RewriteEngine On

# ===== CANONICAL HOST (WWW) =====
# Force a single host to avoid duplicates (www vs non-www)
RewriteCond %{HTTP_HOST} !^www\.fretesoumudancas\.com\.br$ [NC]
RewriteRule ^ https://www.fretesoumudancas.com.br%{REQUEST_URI} [R=301,L]

# Block internal folders (repo only)
RewriteRule ^(src|docs|scripts|dist)/ - [F,L]

# Block project files
RewriteRule ^(\.eleventy\.js|package\.json|package-lock\.json|README\.md|\.gitignore|\.deploy_root_manifest\.json)$ - [F,L]

# ===== FAVICON (SEO / SERP) =====
# Google SERP prefers PNG/GIF/ICO; redirect /favicon.ico to PNG 48x48
RewriteRule ^favicon\.ico$ /favicon-48.png [R=301,L]
